{% block javascripts_footer %}
<script>

    $(function(){
        $(".keywordSearch").click(function() {
            $(".show_hide").slideToggle('slow');
        });
    });

    $("#bigSearch").click(function() {
        //We setup the url to search for. We need field(hepatotoxicity, other),searchInto(document,abstract), kind(pubmed, emea, nda, fulltext, abstract...), entityType (Compound, Cyp, Marker...etc) and entityName
        //Getting field:
        var field = ($('#searchby').find(":selected").text()).toLowerCase();
            if (field==""){
                alert("Please select what is the field of your search in the \"Search by\" select box");
                return false;
            }

        //Getting kind (depending on kind value, searchInto's value will be applied)
        var kind=$('input[name=kind]:checked').val()
        //Normalize kind from form:
        switch(kind){
            case "pubmedAbstracts":
              searchInto = "abstract";
              kind = "abstract";
              break;
            case "sentences":
              searchInto = "document";
              kind = "sentences";
              break;
            case "pubmedSentences":
              searchInto = "document";
              kind = "pubmed";
              break;
            case "epar":
              searchInto = "document";
              kind = "epar";
              break;
            case "nda":
              searchInto = "document";
              kind = "nda";
              break;
            case "fulltext":
              searchInto = "document";
              kind = "fulltext";
              break;
        }

        //Getting entityType
        var entityType=$('input[name=entityType]:checked').val();

        //Getting entityName
        var entityName = $('#tags').val();
        if (entityName==""){
            alert("Please type the entity to search for");
            return false;
        }

        //Once we have all the parameters required for the search, we generate the route
        $('#bigSearch').attr('href','{{ path('curation_interface_search') }}'+field+'/'+searchInto+'/'+kind+'/'+entityType+'/'+entityName+'/');
     });

     $("#keywordSearchButton").click(function() {
        var keyword = $('#keywordInput').val();
        if (keyword==""){
            alert("To perform a search by keyword you need to type a keyword in the input box");
            return false;
        }

        //Once we have all the parameters required for the search, we generate the route
        $('#keywordSearchButton').attr('href','{{ path('curation_interface_search') }}'+'keyword/'+keyword+'/');
     });
</script>







{% endblock %}